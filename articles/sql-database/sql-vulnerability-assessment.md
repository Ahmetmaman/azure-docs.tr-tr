---
title: SQL Güvenlik Açığı Değerlendirmesi
description: Azure SQL Veritabanı'nda SQL Güvenlik Açığı Değerlendirmesini nasıl yapılandıracak ve değerlendirme raporlarını nasıl yorumladığınızı öğrenin.
services: sql-database
ms.service: sql-database
ms.subservice: security
ms.custom: ''
ms.devlang: ''
ms.topic: conceptual
author: mibar
ms.author: mibar
ms.reviewer: vanto, carlrab
ms.date: 02/05/2020
tags: azure-synapse
ms.openlocfilehash: a54cbb017e85ec10e142ffae8981bc839aac37f4
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 03/28/2020
ms.locfileid: "80061656"
---
# <a name="sql-vulnerability-assessment-helps-you-identify-database-vulnerabilities"></a>SQL Güvenlik Açığı Değerlendirmesi, veritabanı güvenlik açıklarını belirlemenize yardımcı olur

SQL Güvenlik Açığı Değerlendirmesi, olası veritabanı güvenlik açıklarını keşfedebilen, izleyebilen ve düzeltmenize yardımcı olabilecek, yapılandırılması kolay bir hizmettir. Veritabanı güvenliğinizi proaktif olarak geliştirmek için bu hizmeti kullanın.

Güvenlik Açığı Değerlendirmesi, gelişmiş SQL güvenlik yetenekleri için birleşik bir paket olan [Gelişmiş Veri Güvenliği](sql-database-advanced-data-security.md) teklifinin bir parçasıdır. Güvenlik Açığı Değerlendirmesi'ne merkezi SQL Advanced Data Security portalı üzerinden erişilebilir ve yönetilebilir.

> [!NOTE]
> Güvenlik Açığı Değerlendirmesi, Azure SQL Veritabanı, Azure SQL Veritabanı yönetilen örneği ve Azure Synapse Analytics için desteklenir. Basitlik için, SQL Veritabanı bu yönetilen veritabanı hizmetlerinden herhangi biri atıfta bu makalede kullanılır.

## <a name="vulnerability-assessment"></a>Güvenlik Açığı Değerlendirmesi

SQL Güvenlik Açığı Değerlendirmesi, güvenlik durumunuzda görünürlük sağlayan bir hizmettir. Güvenlik Açığı Değerlendirmesi, güvenlik sorunlarını çözmek ve veritabanı güvenliğinizi geliştirmek için eyleme geçirilebilir adımlar içerir. Size yardımcı olabilir: 

- Veritabanı tarayın raporları gerektiren uyumluluk gereksinimlerini karşılayın.
- Veri gizliliği standartlarını karşılayın.
- Değişikliklerin izlenmesinin zor olduğu dinamik bir veritabanı ortamını izleyin.

Güvenlik Açığı Değerlendirmesi, Azure SQL Veritabanı'nda yerleşik bir tarama hizmetidir. Hizmet, güvenlik açıklarını işaretleyen bir bilgi tabanı kullanır. Yanlış yapılandırmalar, aşırı izinler ve korunmasız hassas veriler gibi en iyi uygulamalardan sapmaları vurgular.

Kurallar, Microsoft'un en iyi uygulamalarına dayanır ve veritabanınız ve değerli verileri için en büyük riskleri sunan güvenlik sorunlarına odaklanır. Bunlar, sunucu güvenlik duvarı ayarları ve sunucu düzeyindeizinler gibi veritabanı düzeyindeki sorunları ve sunucu düzeyindegüvenlik sorunlarını kapsar. Bu kurallar aynı zamanda çeşitli düzenleyici kurumların uyumluluk standartlarını karşılamak için birçok gereksinimi temsil eder.

Taramayın sonuçları, her sorunu gidermek ve varsa özelleştirilmiş düzeltme komut dosyaları sağlamak için işlem yapılabilir adımları içerir. Şunları için kabul edilebilir bir taban çizgisi ayarlayarak ortamınız için bir değerlendirme raporunu özelleştirebilirsiniz:
* İzin yapılandırmaları.
* Özellik yapılandırmaları.
* Veritabanı ayarları.

## <a name="implement-vulnerability-assessment"></a>Güvenlik Açığı Değerlendirmesi Uygulayın

Aşağıdaki adımlar, SQL Veritabanı'nda Güvenlik Açığı Değerlendirmesi'ni uygular.

### <a name="1-run-a-scan"></a>1. Bir tbmke çalıştırın

Azure SQL Veritabanı bölmenizde, **Güvenlik** başlığı altında **Gelişmiş Veri Güvenliği'ni**seçin. Ardından, tüm SQL sunucusu için Güvenlik Açığı Değerlendirmesi ayarları bölmesini açmak için **Güvenlik Açığı Değerlendirmesi** bölmesindeki **Depolamayı Seç'i** tıklatın.

Sunucudaki tüm veritabanlarının tararsonuçlarının depolandığı bir depolama hesabı yapılandırın. Depolama hesapları hakkında bilgi için [Azure depolama hesapları hakkında](../storage/common/storage-create-storage-account.md)bkz. Depolama alanı yapılandırıldıktan sonra, güvenlik açıklarına karşı veritabanınızı taramaya **yönelik Scan'ı** seçin.

![Veritabanını tarayın](./media/sql-vulnerability-assessment/pp_va_initialize.png)

  > [!NOTE]
  > Talan hafif ve güvenlidir. Çalışması birkaç saniye sürer ve tamamen salt okunur. Veritabanınızda herhangi bir değişiklik yapmaz.

### <a name="2-view-the-report"></a>2. Raporu görüntüleme

Tbmm'niz tamamlandığında, tbmm raporunuz otomatik olarak Azure portalında görüntülenir. Rapor, güvenlik durumunuza genel bir bakış sunar. Kaç sayıda sorun bulunduğunu ve bunların önemlerini listeler. Sonuçlar, en iyi uygulamalardan sapmalarla ilgili uyarıları ve veritabanı ilkeleri ve rolleri ve bunların ilişkili izinleri gibi güvenlikle ilgili ayarlarınızın anlık görüntüsünü içerir. Tarayın raporu, veritabanınızda bulunan hassas verilerin bir haritasını da sağlar. Veri [bulma ve sınıflandırma](sql-database-data-discovery-and-classification.md)kullanarak bu verileri sınıflandırmak için öneriler içerir.

![Raporu görüntüleyin](./media/sql-vulnerability-assessment/pp_main_getstarted.png)

### <a name="3-analyze-the-results-and-resolve-issues"></a>3. Sonuçları analiz etmek ve sorunları çözmek

Sonuçlarınızı gözden geçirin ve raporda ortamınızdaki gerçek güvenlik sorunları olan bulguları belirleyin. Bulgunun etkisini ve her güvenlik denetiminin neden başarısız olduğunu anlamak için başarısız olan her sonuca ayrıntılandırma. Sorunu gidermek için rapor tarafından sağlanan eyleme geçirilebilir düzeltme bilgilerini kullanın.

![Raporu analiz edin](./media/sql-vulnerability-assessment/pp_fail_rule_show_remediation.png)

### <a name="4-set-your-baseline"></a>4. Taban çizginizi ayarlayın

Değerlendirme sonuçlarınızı gözden geçirdikçe, belirli sonuçları ortamınızda kabul edilebilir bir *temel* olarak işaretleyebilirsiniz. Taban çizgisi, temelde sonuçların nasıl rapor edildiğine ilgili bir özelleştirmedir. Taban çizgisiyle eşleşen sonuçlar sonraki taramalarda geçen sonuçlar olarak kabul edilir. Temel güvenlik durumunuzu oluşturduktan sonra, Güvenlik Açığı Değerlendirmesi yalnızca taban çizgisindeki sapmalarla ilgili raporlar. Bu şekilde, dikkatinizi ilgili konulara odaklayabilirsiniz.

![Taban çizginizi ayarlama](./media/sql-vulnerability-assessment/pp_fail_rule_show_baseline.png)

### <a name="5-run-a-new-scan-to-see-your-customized-tracking-report"></a>5. Özelleştirilmiş izleme raporunuzu görmek için yeni bir taramayı çalıştırın

**Kural Taban Çizgilerinizi**ayarlamayı bitirdikten sonra, özelleştirilmiş raporu görüntülemek için yeni bir taramayı çalıştırın. Güvenlik Açığı Değerlendirmesi artık yalnızca onaylanan temel durumunızdan sapan güvenlik sorunlarını raporlar.

![Özelleştirilmiş raporunuzu görüntüleme](./media/sql-vulnerability-assessment/pp_pass_main_with_baselines.png)

Güvenlik Açığı Değerlendirmesi artık veritabanınızın her zaman yüksek düzeyde güvenlik koruduğunu ve kuruluş ilkelerinizin karşılandığını izlemek için kullanılabilir. Uyumluluk raporları gerekiyorsa, Güvenlik Açığı Değerlendirmesi raporları uyumluluk işlemini kolaylaştırmak için yararlı olabilir.

### <a name="6-set-up-periodic-recurring-scans"></a>6. Periyodik olarak yinelenen taramaları ayarlama

**Periyodik yinelenen taramaları**açmak için Güvenlik Açığı Değerlendirmesi ayarlarına gidin. Bu ayar, Güvenlik Açığı Değerlendirmesini haftada bir kez veritabanınızda otomatik olarak bir tarayın çalışacak şekilde yapılandırır. Verdiğiniz e-posta adreslerine bir tarama sonucu özeti gönderilir.

![Özelleştirilmiş raporunuzu görüntüleme](./media/sql-vulnerability-assessment/pp_recurring_scans.png)

### <a name="7-export-an-assessment-report"></a>7. Bir değerlendirme raporu verme

Tarayın sonucunun indirilebilir bir Excel raporunu oluşturmak için **Dışa** Aktar Sonuçlarını seçin. Bu rapor, değerlendirmenin bir özetini görüntüleyen bir özet sekmesi içerir. Rapor, tüm başarısız çekleri içerir. Ayrıca, taramasonuçlarının tam kümesini içeren bir **Sonuç** sekmesi de içerir. Sonuçlar, çalıştırılabilen tüm denetimleri ve her biri için sonuç ayrıntılarını içerir.

### <a name="8-view-scan-history"></a>8. Tarama geçmişini görüntüleme

Bu veritabanında daha önce çalıştırılamış tüm taramaların geçmişini görüntülemek için Güvenlik Açığı Değerlendirmesi bölmesinde Tarama **Geçmişini** seçin. Bu taramanın ayrıntılı sonuçlarını görüntülemek için listede belirli bir tarama seçin.

Güvenlik Açığı Değerlendirmesi artık veritabanınızın her zaman yüksek düzeyde güvenlik koruduğunu ve kuruluş ilkelerinizin karşılandığını izlemek için kullanılabilir. Uyumluluk raporları gerekiyorsa, Güvenlik Açığı Değerlendirmesi raporları uyumluluk işlemini kolaylaştırmak için yararlı olabilir.

## <a name="manage-vulnerability-assessments-by-using-azure-powershell"></a>Azure PowerShell'i kullanarak güvenlik açığı değerlendirmelerini yönetme

[!INCLUDE [updated-for-az](../../includes/updated-for-az.md)]
> [!IMPORTANT]
> PowerShell Azure Kaynak Yöneticisi modülü hala Azure SQL Veritabanı tarafından desteklenir, ancak gelecekteki tüm geliştirme az.sql modülü içindir. Bu cmdlets için [AzureRM.Sql](https://docs.microsoft.com/powershell/module/AzureRM.Sql/)bakın. Az modülündeki ve AzureRm modüllerinde bulunan komutların bağımsız değişkenleri önemli ölçüde aynıdır.

Güvenlik açığı değerlendirmelerinizi programlı bir şekilde yönetmek için Azure PowerShell cmdlets'i kullanabilirsiniz. Desteklenen cmdlets şunlardır:

- [Güncelleme-AzSqlDatabaseVulnerabilityAssessmentSetting](https://docs.microsoft.com/powershell/module/az.sql/Update-azSqlDatabaseVulnerabilityAssessmentSetting)

  Veritabanının Güvenlik Açığı Değerlendirmesi ayarlarını güncelleştirir.
- [Get-AzSqlDatabaseVulnerabilityAssessmentSetting](https://docs.microsoft.com/powershell/module/az.sql/Get-azSqlDatabaseVulnerabilityAssessmentSetting)

  Veritabanının Güvenlik Açığı Değerlendirmesi ayarlarını verir.
- [Clear-AzSqlDatabaseVulnerabilityAssessmentSetting](https://docs.microsoft.com/powershell/module/az.sql/Clear-azSqlDatabaseVulnerabilityAssessmentSetting)

  Bir veritabanının Güvenlik Açığı Değerlendirmesi ayarlarını temizler.
- [Set-AzSqlDatabaseVulnerabilityAssessmentRuleBaseline](https://docs.microsoft.com/powershell/module/az.sql/Set-azSqlDatabaseVulnerabilityAssessmentRuleBaseline)

  Güvenlik Açığı Değerlendirmesi kuralı tabanını ayarlar.
- [Get-AzSqlDatabaseVulnerabilityAssessmentRuleBaseline](https://docs.microsoft.com/powershell/module/az.sql/Get-azSqlDatabaseVulnerabilityAssessmentRuleBaseline)

  Belirli bir kural için Güvenlik Açığı Değerlendirmesi kuralı temelini alır.
- [Clear-AzSqlDatabaseVulnerabilityAssessmentRuleBaseline](https://docs.microsoft.com/powershell/module/az.sql/Clear-azSqlDatabaseVulnerabilityAssessmentRuleBaseline)

  Güvenlik Açığı Değerlendirmesi kuralı taban çizgisini temizler. İlk olarak, temizlemek için bu cmdlet kullanmadan önce taban çizgisini ayarlayın.
- [Başlangıç-AzSqlDatabaseVulnerabilityAssessmentScan](https://docs.microsoft.com/powershell/module/az.sql/Start-azSqlDatabaseVulnerabilityAssessmentScan)

  Güvenlik Açığı Değerlendirmesi talanının başlatılmasını tetikler.
- [Get-AzSqlDatabaseVulnerabilityAssessmentScanRecord](https://docs.microsoft.com/powershell/module/az.sql/Get-azSqlDatabaseVulnerabilityAssessmentScanRecord)

   Belirli bir veritabanıyla ilişkili tüm Güvenlik Açığı Değerlendirmesi tarayın kayıtlarını alır.
- [Convert-AzSqlDatabaseVulnerabilityAssessmentScan](https://docs.microsoft.com/powershell/module/az.sql/Convert-azSqlDatabaseVulnerabilityAssessmentScan)

  Güvenlik Açığı Değerlendirmesi sonuçlarını bir Excel dosyasına dönüştürür.

Komut dosyası örneği için Bkz. [Azure SQL Güvenlik Açığı Değerlendirmesi PowerShell desteği.](https://blogs.msdn.microsoft.com/sqlsecurity/20../../azure-sql-vulnerability-assessment-now-with-powershell-support/)

## <a name="manage-vulnerability-assessment-baseline-rules-by-using-resource-manager-templates"></a>Kaynak Yöneticisi şablonlarını kullanarak Güvenlik Açığı Değerlendirmesi temel kurallarını yönetme

Azure Kaynak Yöneticisi şablonlarını kullanarak Güvenlik Açığı Değerlendirmesi taban `Microsoft.Sql/servers/databases/vulnerabilityAssessments/rules/baselines` çizgilerini yapılandırmak için türü kullanın.

Taban çizgileri `vulnerabilityAssessments` eklemeden önce SQL Server çalıştıran bilgisayarda etkinleştirdiğinizden emin olun.

Kaynak Yöneticisi şablonundaki kaynak olarak userdb ve VA1143'e anabilim ve VA1143 temel kuralıVA2065'i tanımlamak için bir örnek aşağıda verilmiştir:

```json
    "resources": [
        {
            "type": "Microsoft.Sql/servers/databases/vulnerabilityAssessments/rules/baselines",
            "apiVersion": "2018-06-01-preview",
            "name": "[concat(parameters('server_name'),'/', parameters('database_name') , '/default/VA2065/master')]",
            "properties": {
                "baselineResults": [
                    {
                        "result": [
                                "FirewallRuleName3",
                                "StartIpAddress",
                                "EndIpAddress"
                                  ]
                    },{
                         "result": [
                                "FirewallRuleName4",
                                "62.92.15.68",
                                "62.92.15.68"
                            ]
                        
                    }
                ]
            },
        {
            "type": "Microsoft.Sql/servers/databases/vulnerabilityAssessments/rules/baselines",
            "apiVersion": "2018-06-01-preview",
            "name": "[concat(parameters('server_name'),'/', parameters('database_name'), '/default/VA2130/Default')]",
            "dependsOn": [
                "[resourceId('Microsoft.Sql/servers/vulnerabilityAssessments', parameters('server_name'), 'Default')]"
            ],
            "properties": {
                "baselineResults": [
                    {
                        "result": [
                            "dbo"
                        ]
                    }
                ]
            }
        }
    ]
}   
```

Ana veritabanı ve kullanıcı veritabanı için kaynak adları farklı şekilde tanımlanır:

* Ana veritabanı - "ad": "[concat(parameters('server_name'),'/', parametreler('database_name') , '/default/VA2065/<b>master</b>')]",
* Kullanıcı veritabanı - "ad": "[concat(parameters('server_name'),'/', parametreler('database_name') , '/default/VA2065/<b>default</b>')]",
 
 
 Boolean türlerini doğru/yanlış olarak işlemek için temel sonucu "1"/"0" gibi ikili girişle ayarlayın.
 
 ```json
        {
            "type": "Microsoft.Sql/servers/databases/vulnerabilityAssessments/rules/baselines",
            "apiVersion": "2018-06-01-preview",
            "name": "[concat(parameters('server_name'),'/', parameters('database_name'), '/default/VA1143/Default')]",
            "dependsOn": [
                "[resourceId('Microsoft.Sql/servers/vulnerabilityAssessments', parameters('server_name'), 'Default')]"
            ],
            "properties": {
                "baselineResults": [
                    {
                        "result": [
                            "1"
                        ]
                    }
                ]
            }
        }
    ]
}   
```
 
 
## <a name="next-steps"></a>Sonraki adımlar  

- [Gelişmiş Veri Güvenliği](sql-database-advanced-data-security.md)hakkında daha fazla bilgi edinin.
- [Veri bulma ve sınıflandırma](sql-database-data-discovery-and-classification.md)hakkında daha fazla bilgi edinin.
